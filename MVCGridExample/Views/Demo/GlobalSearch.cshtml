@using MVCGrid.Web.Models
@{
    ViewBag.Title = "Global Search";
}
@section head{
    <style type="text/css">
        .mgfilter {
            float: right;
            text-align: right;
        }

        .mgPageSize {
            float: left;
        }
    </style>
}

<h2>@ViewBag.Title</h2>

<p>
    You can use the <code>AdditionalQueryOptions</code> to pass additional options from client to server side. In this example, we use this to create a "global search".
    When you click the search button below, it will call the javascript method <code>MVCGrid.setAdditionalQueryOptions</code> with the value of the text box.
    This will be sent to the server-side with the ajax call and can be accessed in the <code>RetrieveDataMethod</code>.
    In this example, the database will concat first and last name and query that for the entered text.
    Note, when using the <code>AdditionalQueryOptions</code>, you must specify the names you are going to use in the grid config. See the code sample below.
</p>

<p>
    Or use <a href="/documentation#ClientSideBindings">client-side bindings</a>, as is done below:
</p>

<p>&nbsp;</p>

<div class="panel panel-default">
    <div class="panel-body">

        @Html.Partial("_MVCGridToolbar", new MvcGridToolbarModel
        {
            MvcGridName = "GlobalSearchGrid", PageSize = true, ColumnVisibility = false, Export = false, GlobalSearch = true
        })

        @Html.MVCGrid("GlobalSearchGrid")
    </div>
</div>

<h3>Code</h3>

<div class="panel panel-default">
    <div class="panel-heading">View (Uses client-side bindings)</div>
    <div class="panel-body">
        <pre class="brush: js">
&lt;div class=&quot;panel panel-default&quot;&gt;
    &lt;div class=&quot;panel-body&quot;&gt;
        @@Html.Partial(&quot;_MVCGridToolbar&quot;, new MVCGridToolbarModel()
        {
            MVCGridName = &quot;GlobalSearchGrid&quot;,
            PageSize = true,
            ColumnVisibility = false,
            Export = false,
            GlobalSearch = true
        })
        @@Html.MVCGrid(&quot;GlobalSearchGrid&quot;)
    &lt;/div&gt;
&lt;/div&gt;
        </pre>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        Inside <strong>MVCGridConfig.cs</strong>
    </div>
    <div class="panel-body">
        <pre class="brush: csharp">@CodeSnippetHelper.GetCodeSnippet("GlobalSearchGrid")</pre>
    </div>
</div>